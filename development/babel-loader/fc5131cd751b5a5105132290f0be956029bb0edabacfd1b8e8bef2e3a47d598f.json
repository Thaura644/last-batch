{"ast":null,"code":"import React from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { colors } from \"../config/constants\";\nimport Separator from \"../components/Separator\";\nimport Cell from \"../components/Cell\";\nimport { deleteUser, signOut } from 'firebase/auth';\nimport { auth, database } from \"../config/firebase\";\nimport { deleteDoc, doc } from \"firebase/firestore\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Account = function Account(_ref) {\n  var navigation = _ref.navigation;\n  var onSignOut = function onSignOut() {\n    signOut(auth).catch(function (error) {\n      return console.log('Error logging out: ', error);\n    });\n  };\n  var deleteAccount = function deleteAccount() {\n    deleteUser(auth == null ? void 0 : auth.currentUser).catch(function (error) {\n      return console.log('Error deleting: ', error);\n    });\n    deleteDoc(doc(database, 'users', auth == null ? void 0 : auth.currentUser.email));\n  };\n  return _jsxs(View, {\n    children: [_jsx(Cell, {\n      title: \"Blocked Users\",\n      icon: \"close-circle-outline\",\n      tintColor: colors.primary,\n      onPress: function onPress() {\n        alert('Blocked users touched');\n      },\n      style: {\n        marginTop: 20\n      }\n    }), _jsx(Cell, {\n      title: \"Logout\",\n      icon: \"log-out-outline\",\n      tintColor: colors.grey,\n      onPress: function onPress() {\n        Alert.alert('Logout?', 'You have to login again', [{\n          text: \"Logout\",\n          onPress: function onPress() {\n            onSignOut();\n          }\n        }, {\n          text: \"Cancel\"\n        }], {\n          cancelable: true\n        });\n      },\n      showForwardIcon: false\n    }), _jsx(Cell, {\n      title: \"Delete my account\",\n      icon: \"trash-outline\",\n      tintColor: colors.red,\n      onPress: function onPress() {\n        Alert.alert('Delete account?', 'Deleting your account will erase your message history', [{\n          text: \"Delete my account\",\n          onPress: function onPress() {\n            deleteAccount();\n          }\n        }, {\n          text: \"Cancel\"\n        }], {\n          cancelable: true\n        });\n      },\n      showForwardIcon: false,\n      style: {\n        marginTop: 20\n      }\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  contactRow: {\n    backgroundColor: 'white',\n    marginTop: 16,\n    borderTopWidth: StyleSheet.hairlineWidth,\n    borderColor: colors.border\n  }\n});\nexport default Account;","map":{"version":3,"names":["React","Text","View","StyleSheet","Alert","colors","Separator","Cell","deleteUser","signOut","auth","database","deleteDoc","doc","jsx","_jsx","jsxs","_jsxs","Account","_ref","navigation","onSignOut","catch","error","console","log","deleteAccount","currentUser","email","children","title","icon","tintColor","primary","onPress","alert","style","marginTop","grey","text","cancelable","showForwardIcon","red","styles","create","contactRow","backgroundColor","borderTopWidth","hairlineWidth","borderColor","border"],"sources":["/home/jtm/dev/rn-chat-cu/screens/Account.js"],"sourcesContent":["import React from \"react\";\nimport { Text, View, StyleSheet, Alert } from \"react-native\";\nimport { colors } from \"../config/constants\";\nimport Separator from \"../components/Separator\";\nimport Cell from \"../components/Cell\";\nimport { deleteUser, signOut } from 'firebase/auth';\nimport { auth, database } from '../config/firebase';\nimport { deleteDoc, doc } from \"firebase/firestore\";\n\nconst Account = ({ navigation }) => {\n\n    const onSignOut = () => {\n        signOut(auth).catch(error => console.log('Error logging out: ', error));\n    };\n\n    const deleteAccount = () => {\n        deleteUser(auth?.currentUser).catch(error => console.log('Error deleting: ', error));\n        deleteDoc(doc(database, 'users', auth?.currentUser.email));\n    };\n\n    return (\n        <View>\n            <Cell\n                title='Blocked Users'\n                icon='close-circle-outline'\n                tintColor={colors.primary}\n                onPress={() => {\n                    alert('Blocked users touched')\n                }}\n                style={{ marginTop: 20 }}\n            />\n            <Cell\n                title='Logout'\n                icon='log-out-outline'\n                tintColor={colors.grey}\n                onPress={() => {\n                    Alert.alert('Logout?', 'You have to login again',\n                        [\n                            {\n                                text: \"Logout\",\n                                onPress: () => { onSignOut() },\n                            },\n                            {\n                                text: \"Cancel\",\n                            },\n                        ],\n                        { cancelable: true })\n                }}\n                showForwardIcon={false}\n            />\n            <Cell\n                title='Delete my account'\n                icon='trash-outline'\n                tintColor={colors.red}\n                onPress={() => {\n                    Alert.alert('Delete account?', 'Deleting your account will erase your message history',\n                        [\n                            {\n                                text: \"Delete my account\",\n                                onPress: () => { deleteAccount() },\n                            },\n                            {\n                                text: \"Cancel\",\n                            },\n                        ],\n                        { cancelable: true })\n                }}\n                showForwardIcon={false}\n                style={{ marginTop: 20 }}\n            />\n\n        </View>\n    )\n}\n\nconst styles = StyleSheet.create({\n    contactRow: {\n        backgroundColor: 'white',\n        marginTop: 16,\n        borderTopWidth: StyleSheet.hairlineWidth,\n        borderColor: colors.border\n    }\n})\n\nexport default Account;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}