{"ast":null,"code":"var _jsxFileName = \"/home/jtm/dev/rn-chat-cu/screens/Account.js\",\n  _this = this;\nimport React from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { colors } from \"../config/constants\";\nimport Separator from \"../components/Separator\";\nimport Cell from \"../components/Cell\";\nimport { deleteUser, signOut } from 'firebase/auth';\nimport { auth, database } from '../config/firebase';\nimport { deleteDoc, doc } from \"firebase/firestore\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar Account = function Account(_ref) {\n  var navigation = _ref.navigation;\n  var onSignOut = function onSignOut() {\n    signOut(auth).catch(function (error) {\n      return console.log('Error logging out: ', error);\n    });\n  };\n  var deleteAccount = function deleteAccount() {\n    deleteUser(auth == null ? void 0 : auth.currentUser).catch(function (error) {\n      return console.log('Error deleting: ', error);\n    });\n    deleteDoc(doc(database, 'users', auth == null ? void 0 : auth.currentUser.email));\n  };\n  return _jsxDEV(View, {\n    children: [_jsxDEV(Cell, {\n      title: \"Blocked Users\",\n      icon: \"close-circle-outline\",\n      tintColor: colors.primary,\n      onPress: function onPress() {\n        alert('Blocked users touched');\n      },\n      style: {\n        marginTop: 20\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 13\n    }, _this), _jsxDEV(Cell, {\n      title: \"Logout\",\n      icon: \"log-out-outline\",\n      tintColor: colors.grey,\n      onPress: function onPress() {\n        Alert.alert('Logout?', 'You have to login again', [{\n          text: \"Logout\",\n          onPress: function onPress() {\n            onSignOut();\n          }\n        }, {\n          text: \"Cancel\"\n        }], {\n          cancelable: true\n        });\n      },\n      showForwardIcon: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, _this), _jsxDEV(Cell, {\n      title: \"Delete my account\",\n      icon: \"trash-outline\",\n      tintColor: colors.red,\n      onPress: function onPress() {\n        Alert.alert('Delete account?', 'Deleting your account will erase your message history', [{\n          text: \"Delete my account\",\n          onPress: function onPress() {\n            deleteAccount();\n          }\n        }, {\n          text: \"Cancel\"\n        }], {\n          cancelable: true\n        });\n      },\n      showForwardIcon: false,\n      style: {\n        marginTop: 20\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 9\n  }, _this);\n};\nvar styles = StyleSheet.create({\n  contactRow: {\n    backgroundColor: 'white',\n    marginTop: 16,\n    borderTopWidth: StyleSheet.hairlineWidth,\n    borderColor: colors.border\n  }\n});\nexport default Account;","map":{"version":3,"names":["React","Text","View","StyleSheet","Alert","colors","Separator","Cell","deleteUser","signOut","auth","database","deleteDoc","doc","jsxDEV","_jsxDEV","Account","_ref","navigation","onSignOut","catch","error","console","log","deleteAccount","currentUser","email","children","title","icon","tintColor","primary","onPress","alert","style","marginTop","fileName","_jsxFileName","lineNumber","columnNumber","_this","grey","text","cancelable","showForwardIcon","red","styles","create","contactRow","backgroundColor","borderTopWidth","hairlineWidth","borderColor","border"],"sources":["/home/jtm/dev/rn-chat-cu/screens/Account.js"],"sourcesContent":["import React from \"react\";\nimport { Text, View, StyleSheet, Alert } from \"react-native\";\nimport { colors } from \"../config/constants\";\nimport Separator from \"../components/Separator\";\nimport Cell from \"../components/Cell\";\nimport { deleteUser, signOut } from 'firebase/auth';\nimport { auth, database } from '../config/firebase';\nimport { deleteDoc, doc } from \"firebase/firestore\";\n\nconst Account = ({ navigation }) => {\n\n    const onSignOut = () => {\n        signOut(auth).catch(error => console.log('Error logging out: ', error));\n    };\n\n    const deleteAccount = () => {\n        deleteUser(auth?.currentUser).catch(error => console.log('Error deleting: ', error));\n        deleteDoc(doc(database, 'users', auth?.currentUser.email));\n    };\n\n    return (\n        <View>\n            <Cell\n                title='Blocked Users'\n                icon='close-circle-outline'\n                tintColor={colors.primary}\n                onPress={() => {\n                    alert('Blocked users touched')\n                }}\n                style={{ marginTop: 20 }}\n            />\n            <Cell\n                title='Logout'\n                icon='log-out-outline'\n                tintColor={colors.grey}\n                onPress={() => {\n                    Alert.alert('Logout?', 'You have to login again',\n                        [\n                            {\n                                text: \"Logout\",\n                                onPress: () => { onSignOut() },\n                            },\n                            {\n                                text: \"Cancel\",\n                            },\n                        ],\n                        { cancelable: true })\n                }}\n                showForwardIcon={false}\n            />\n            <Cell\n                title='Delete my account'\n                icon='trash-outline'\n                tintColor={colors.red}\n                onPress={() => {\n                    Alert.alert('Delete account?', 'Deleting your account will erase your message history',\n                        [\n                            {\n                                text: \"Delete my account\",\n                                onPress: () => { deleteAccount() },\n                            },\n                            {\n                                text: \"Cancel\",\n                            },\n                        ],\n                        { cancelable: true })\n                }}\n                showForwardIcon={false}\n                style={{ marginTop: 20 }}\n            />\n\n        </View>\n    )\n}\n\nconst styles = StyleSheet.create({\n    contactRow: {\n        backgroundColor: 'white',\n        marginTop: 16,\n        borderTopWidth: StyleSheet.hairlineWidth,\n        borderColor: colors.border\n    }\n})\n\nexport default Account;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}